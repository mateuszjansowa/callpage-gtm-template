﻿___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "CallPage widget",
  "categories": [
    "CHAT",
    "CONVERSIONS",
    "LEAD_GENERATION",
    "MARKETING"
  ],
  "brand": {
    "id": "github.com_mateuszjansowa",
    "displayName": "CallPage",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "CallPage widget code for Google Tag Manager",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "widgetId",
    "displayName": "Widget\u0027s ID copied from the dashboard",
    "simpleValueType": true
  },
  {
    "type": "GROUP",
    "name": "callbacks",
    "displayName": "Callbacks",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onReady",
        "checkboxText": "Widget Ready",
        "simpleValueType": true,
        "help": "Widget is loaded and all resources are available",
        "displayName": "event.onReady"
      },
      {
        "type": "GROUP",
        "name": "params_event.onReady",
        "displayName": "",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onReady",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onReady"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onReady",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onReady",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onWidgetOpened",
        "checkboxText": "Widget Opened",
        "simpleValueType": true,
        "displayName": "event.onWidgetOpened",
        "help": "Fires when popup window is opened"
      },
      {
        "type": "GROUP",
        "name": "params_event.onWidgetOpened",
        "displayName": "",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onWidgetOpened",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onWidgetOpened"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onWidgetOpened",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onWidgetOpened",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onWidgetClosed",
        "checkboxText": "Widget Closed",
        "simpleValueType": true,
        "displayName": "event.onWidgetClosed",
        "help": "Fires when popup window is closed"
      },
      {
        "type": "GROUP",
        "name": "params_event.onWidgetClosed",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onWidgetClosed",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onWidgetClosed"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onWidgetClosed",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onWidgetClosed",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onButtonShowed",
        "checkboxText": "Button Showed",
        "simpleValueType": true,
        "displayName": "event.onButtonShowed",
        "help": "Fires when CallPage button is shown"
      },
      {
        "type": "GROUP",
        "name": "params_event.onButtonShowed",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onButtonShowed",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onButtonShowed"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onButtonShowed",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onButtonShowed",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onCallCreated",
        "checkboxText": "Call Created",
        "simpleValueType": true,
        "displayName": "event.onCallCreated",
        "help": "Fires when visitor ordered a call (scheduled or real-time)"
      },
      {
        "type": "GROUP",
        "name": "params_event.onCallCreated",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onCallCreated",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onCallCreated"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onCallCreated",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onCallCreated",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onCallRealTime",
        "checkboxText": "Call Real Time",
        "simpleValueType": true,
        "displayName": "event.onCallRealTime",
        "help": "Fires when visitor ordered a real-time call"
      },
      {
        "type": "GROUP",
        "name": "params_event.onCallRealTime",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onCallRealTime",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onCallRealTime"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onCallRealTime",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onCallRealTime",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onCallScheduled",
        "checkboxText": "Call Scheduled",
        "simpleValueType": true,
        "displayName": "event.onCallScheduled",
        "help": "Fires when visitor ordered a scheduled call"
      },
      {
        "type": "GROUP",
        "name": "params_event.onCallScheduled",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onCallScheduled",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onCallScheduled"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onCallScheduled",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onCallScheduled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onCallInProgress",
        "checkboxText": "Call In Progress",
        "simpleValueType": true,
        "displayName": "event.onCallInProgress",
        "help": "Fires when call status changes to \"in-progress\". It means that visitor picked up the phone."
      },
      {
        "type": "GROUP",
        "name": "params_event.onCallInProgress",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onCallInProgress",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onCallInProgress"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onCallInProgress",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onCallInProgress",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "callbacks_event.onCallCompleted",
        "checkboxText": "Call Completed",
        "simpleValueType": true,
        "displayName": "event.onCallCompleted",
        "help": "Fires when call status changes to \"completed\". It means that the call was successfully finished."
      },
      {
        "type": "GROUP",
        "name": "params_event.onCallCompleted",
        "displayName": "Params that will be send to Data Layer",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "event_event.onCallCompleted",
            "displayName": "Event",
            "simpleValueType": true,
            "defaultValue": "onCallCompleted"
          },
          {
            "type": "SIMPLE_TABLE",
            "name": "data_event.onCallCompleted",
            "displayName": "Additional Data",
            "simpleTableColumns": [
              {
                "defaultValue": "",
                "displayName": "Key",
                "name": "key",
                "type": "TEXT"
              },
              {
                "defaultValue": "",
                "displayName": "Value",
                "name": "value",
                "type": "TEXT"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "callbacks_event.onCallCompleted",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const createQueue = require('createQueue');
const callInWindow = require('callInWindow');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');


const onLoadedScript = () => {
  log('Script loaded successfully');
  data.gtmOnSuccess();
};
const onScriptError = (err) => {
  log('Error while loading script');
  data.gtmOnFailure();
  return;
};

const __cp = {
  id: data.widgetId,
  version: '1.1'
};

const setConfig = setInWindow('__cp',__cp);

if(setConfig){
	injectScript('//api.callpage.io/themes/widget/build/js/callpage.js', onLoadedScript, onScriptError, 'callpage');
}


const getCallpage = () => {
  let callpage = copyFromWindow('callpage');
  if (callpage) {
    return callpage;
  }
  let methods = [];
  setInWindow('callpage', function (method) {
    log(method);
    if (method == '__getQueue') {
        return methods;
    }
    const callMethod = copyFromWindow('callpage.execute.apply');
    if (callMethod) {
      callInWindow('callpage.execute.apply', null, arguments);
    } else {
      (methods = methods || []).push({
      	arguments: arguments
      });
    }
  });
 return copyFromWindow('callpage');
};

const callpage = getCallpage();
callpage('api.button.autoshow');


const getActiveCallbacks = (name)=>{
	for(let key in data){
      if(key.match(name) && data[key]){
        const e = key.replace(name,'');
        const params = getEventParams(e);
		runActiveCallbacks(e,params);
      }
    }
};

const getEventParams = (name)=>{
	const params = {};
  	for(let key in data){
      if(key=='event_'+name){
        params.event = data[key];
      }else if(key=='data_'+name){
      	const dataArr = data[key];
       	dataArr.reduce((obj,item)=>{
          params[item.key] = item.value;
        },{});
      }
    }
  	return params;
};

const dataLayerPush = createQueue('dataLayer');

const runActiveCallbacks = (event, eventData)=>{
  	let dataToSave = eventData;
      callpage(event, function(e) {
        if(e){
          dataToSave.callId = e;
        }
		dataLayerPush(dataToSave);
	});
};

const activeCallbacks = getActiveCallbacks('callbacks_');

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__cp"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "callpage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "callpage.execute.apply"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://api.callpage.io/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 12/31/2021, 10:31:03 AM

